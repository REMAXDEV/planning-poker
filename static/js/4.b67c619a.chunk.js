(this["webpackJsonpplanning-poker"]=this["webpackJsonpplanning-poker"]||[]).push([[4],{197:function(e,t,n){"use strict";n.r(t);var s=n(15),a=n(1),r=n.n(a),c=n(101);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o(t?e.reduce((function(e,n){return e+n[t]}),0)/e.length:e.reduce((function(e,t){return e+t}))/e.length,2)}function o(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var l=n(21);var d=n(2),u={scales:{yAxes:[{ticks:{beginAtZero:!0,display:!1}}]},maintainAspectRatio:!1};function b(e){var t=e.sessionName;l.a.log("Analytic render()");var n=Object(a.useState)([]),r=Object(s.a)(n,2),b=r[0],h=r[1];if(Object(a.useEffect)((function(){fetch("https://doe6dshub3.execute-api.us-east-1.amazonaws.com/default/planning-poker?sessionName="+t).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return e.sd=function(e){var t=i(e);return o(Math.sqrt(e.map((function(e){return Math.pow(e-t,2)})).reduce((function(e,t){return e+t}))/e.length),2)}(e.points),e}));h(t)}))}),[t]),0===b.length)return Object(d.jsx)("div",{className:"text-center",children:"No data. This is powered by a Lambda function which has a delay due to cold start."});var j,p,m,f={last20Votes:i(b.slice(0,20),"sd"),last50Votes:i(b.slice(0,50),"sd"),last100Votes:i(b.slice(0,100),"sd")},x=(j=b.slice(0,20).reverse(),p={key:"time",transformer:function(e){return e.substr(5,5)}},m={key:"sd"},{labels:j.map((function(e){return"function"===typeof p.transformer?p.transformer(e[p.key]):e[p.key]})),datasets:[{label:"Standard Deviation",data:j.map((function(e){return"function"===typeof m.transformer?m.transformer(e[m.key]):e[m.key]})),fill:!1,backgroundColor:"rgba(255, 99, 132, 0.8)",borderColor:"rgba(255, 99, 132, 0.2)"}]}),g=b.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:new Date(e.time).toLocaleString()}),Object(d.jsx)("td",{children:e.points.join(" , ")}),Object(d.jsx)("td",{children:e.sd})]},e.time)}));return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"text-center mb-3",children:[Object(d.jsx)("div",{children:"Mean Standard Deviation: reflects the team's disagreement - the lower, the better"}),Object(d.jsxs)("div",{children:["Last 20 Votes",Object(d.jsx)("span",{className:"badge bg-".concat(f.last20Votes>f.last50Votes?"danger":"success"," rounded-pill mx-2"),children:f.last20Votes}),"Last 50 Votes",Object(d.jsx)("span",{className:"badge bg-secondary rounded-pill mx-2",children:f.last50Votes}),"Last 100 Votes",Object(d.jsx)("span",{className:"badge bg-secondary rounded-pill mx-2",children:f.last100Votes})]})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)(c.Line,{data:x,options:u,height:150})}),Object(d.jsxs)("table",{className:"table table-dark table-striped text-center",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"text-light",children:[Object(d.jsx)("th",{scope:"col",children:"Date & Time"}),Object(d.jsxs)("th",{scope:"col",children:["Votes @",t]}),Object(d.jsx)("th",{scope:"col",children:"Standard Deviation"})]})}),Object(d.jsx)("tbody",{children:g})]})]})}t.default=r.a.memo(b)}}]);
//# sourceMappingURL=4.b67c619a.chunk.js.map